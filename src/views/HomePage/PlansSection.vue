<template>
    <!-- TITLE -->
    <div class="sm:text-[40px] text-2xl flex justify-around align-center font-bold py-5">
        <svg xmlns="http://www.w3.org/2000/svg" width="70px" height="70px" viewBox="0 0 512 512">
            <rect width="512" height="512" fill="none" />
            <path fill="#2a81bf" d="M293.5 298a7.7 7.7 0 0 0-5.3 2L256 330.9L223.8 300a7.8 7.8 0 0 0-10.6 0a6.9 6.9 0 0 0 0 10l37.5 35.8a7.8 7.8 0 0 0 10.6 0l37.5-35.7a6.9 6.9 0 0 0 0-10.1a7.7 7.7 0 0 0-5.3-2.1Z" opacity="0">
                <animateTransform attributeName="transform" begin="-0.975s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" type="translate" values="0 -30; 0 0; 0 30" />
                <animate attributeName="opacity" begin="-0.975s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" values="0; 1; 0" />
            </path>
            <path fill="#2a81bf" d="M293.5 253a7.7 7.7 0 0 0-5.3 2L256 285.9L223.8 255a7.8 7.8 0 0 0-10.6 0a6.9 6.9 0 0 0 0 10l37.5 35.8a7.8 7.8 0 0 0 10.6 0l37.5-35.7a6.9 6.9 0 0 0 0-10.1a7.7 7.7 0 0 0-5.3-2.1Z" opacity="0">
                <animateTransform attributeName="transform" begin="-0.9s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" type="translate" values="0 -30; 0 0; 0 30" />
                <animate attributeName="opacity" begin="-0.9s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" values="0; 1; 0" />
            </path>
            <path fill="#2a81bf" d="M293.5 208a7.7 7.7 0 0 0-5.3 2L256 240.9L223.8 210a7.8 7.8 0 0 0-10.6 0a6.9 6.9 0 0 0 0 10l37.5 35.8a7.8 7.8 0 0 0 10.6 0l37.5-35.7a6.9 6.9 0 0 0 0-10.1a7.7 7.7 0 0 0-5.3-2.1Z" opacity="0">
                <animateTransform attributeName="transform" begin="-0.825s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" type="translate" values="0 -30; 0 0; 0 30" />
                <animate attributeName="opacity" begin="-0.825s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" values="0; 1; 0" />
            </path>
            <path fill="#2a81bf" d="M293.5 163a7.7 7.7 0 0 0-5.3 2L256 195.9L223.8 165a7.8 7.8 0 0 0-10.6 0a6.9 6.9 0 0 0 0 10l37.5 35.8a7.8 7.8 0 0 0 10.6 0l37.5-35.7a6.9 6.9 0 0 0 0-10.1a7.7 7.7 0 0 0-5.3-2.1Z" opacity="0">
                <animateTransform attributeName="transform" begin="-0.75s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" type="translate" values="0 -30; 0 0; 0 30" />
                <animate attributeName="opacity" begin="-0.75s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" values="0; 1; 0" />
            </path>
        </svg>
        OUR PACKAGES
        <svg xmlns="http://www.w3.org/2000/svg" width="70px" height="70px" viewBox="0 0 512 512">
            <rect width="512" height="512" fill="none" />
            <path fill="#2a81bf" d="M293.5 298a7.7 7.7 0 0 0-5.3 2L256 330.9L223.8 300a7.8 7.8 0 0 0-10.6 0a6.9 6.9 0 0 0 0 10l37.5 35.8a7.8 7.8 0 0 0 10.6 0l37.5-35.7a6.9 6.9 0 0 0 0-10.1a7.7 7.7 0 0 0-5.3-2.1Z" opacity="0">
                <animateTransform attributeName="transform" begin="-0.975s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" type="translate" values="0 -30; 0 0; 0 30" />
                <animate attributeName="opacity" begin="-0.975s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" values="0; 1; 0" />
            </path>
            <path fill="#2a81bf" d="M293.5 253a7.7 7.7 0 0 0-5.3 2L256 285.9L223.8 255a7.8 7.8 0 0 0-10.6 0a6.9 6.9 0 0 0 0 10l37.5 35.8a7.8 7.8 0 0 0 10.6 0l37.5-35.7a6.9 6.9 0 0 0 0-10.1a7.7 7.7 0 0 0-5.3-2.1Z" opacity="0">
                <animateTransform attributeName="transform" begin="-0.9s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" type="translate" values="0 -30; 0 0; 0 30" />
                <animate attributeName="opacity" begin="-0.9s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" values="0; 1; 0" />
            </path>
            <path fill="#2a81bf" d="M293.5 208a7.7 7.7 0 0 0-5.3 2L256 240.9L223.8 210a7.8 7.8 0 0 0-10.6 0a6.9 6.9 0 0 0 0 10l37.5 35.8a7.8 7.8 0 0 0 10.6 0l37.5-35.7a6.9 6.9 0 0 0 0-10.1a7.7 7.7 0 0 0-5.3-2.1Z" opacity="0">
                <animateTransform attributeName="transform" begin="-0.825s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" type="translate" values="0 -30; 0 0; 0 30" />
                <animate attributeName="opacity" begin="-0.825s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" values="0; 1; 0" />
            </path>
            <path fill="#2a81bf" d="M293.5 163a7.7 7.7 0 0 0-5.3 2L256 195.9L223.8 165a7.8 7.8 0 0 0-10.6 0a6.9 6.9 0 0 0 0 10l37.5 35.8a7.8 7.8 0 0 0 10.6 0l37.5-35.7a6.9 6.9 0 0 0 0-10.1a7.7 7.7 0 0 0-5.3-2.1Z" opacity="0">
                <animateTransform attributeName="transform" begin="-0.75s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" type="translate" values="0 -30; 0 0; 0 30" />
                <animate attributeName="opacity" begin="-0.75s" calcMode="spline" dur="2.25s" keySplines=".55, 0, .1, 1; .55, 0, .1, 1" repeatCount="indefinite" values="0; 1; 0" />
            </path>
        </svg>

    </div>
    <!-- <p class="text-sm animate__animated animate__zoomIn   animate__slower animate__delay-2s sm:w-1/2 mx-auto bg-gradient-to-b  from-blue-300 text-stone-500  text-wrap"> *With a deposit of only KSH 4000 fully refundable for each plan! </p> -->
    
    <!-- PLANS -->
    <v-card class="text-start" >
      <v-tabs
        center-active
        v-model="tab"
        align-tabs="center"
        color="deep-purple-accent-4"
        fixed-tabs="true"
      >
        <v-tab  value="HOME" base-color="black" hide-slider border="md" rounded="xl" color="white" class="bg-blue" theme="green">
            <v-icon :icon=IconHomeVue></v-icon>
            HOME
        </v-tab>
        <v-tab value="BUSINESS" base-color="black" hide-slider rounded="xl" border="md" color="white"  style="background-color: #f15a22" >
            <v-icon :icon=IconBusinessPlan></v-icon>
            BUSINESS</v-tab>
        <v-tab value="STUDENT" base-color="black"  border="md"  color="white" hide-slider rounded="xl" class="bg-green ">
            <v-icon :icon=IconStudentPlanVue></v-icon>
            STUDENT</v-tab>
      </v-tabs>
      <!-- TABS -->
      <v-card-text>
        <v-tabs-window v-model="tab" v-if="plans" >
        <v-tabs-window-item
          v-for="(plan,n) in plans.length"
          :key="n"
          :value=plans[n].plan
        >
          <v-container fluid>
            <v-row justify="space-around" >
                <!-- LARGE SCREENS -->
              <v-col
                class="lg:block hidden"
                v-for="(packages,i) in plans[n].packages"
                :key="i"
                cols="12"
                md="2"
                @click.prevent="clicked(packages)"
              >
              <div  class=" cursor-pointer" >
                <v-card
                    style=""
                    class="mx-auto h-[150px]"
                    color="surface-variant"
                    :image=packages.imagePath
                    max-width="350"
                    min-width="250"
                    height="170"
                >
                    <p class="sm:text-[70px] text-[50px]  h-full  px-4 bg-gradient-to-r from-orange-500 ">
                        {{ packages.speed }}
                        <span  class="text-[30px] sm:text-[40px]">
                            Mbps 
                            <span class=" sm:block py-5  text-2xl  hidden  bg-gradient-to-t  from-orange-500">
                                Ksh. {{ packages.price }}/month 
                            </span>
                        </span>
                    </p>
                </v-card>
                <v-card
                    class="mx-auto"
                    max-width="350"
                    min-width="250"
                    style="background-color: green;"
                >
                    <v-list density="compact">
                        <v-list-item
                            v-for="(description, i) in packages.description"
                            :key="i"
                            :value="item"
                            color="primary"
                            style="background-color: beige;"
                        >
                            <template v-slot:prepend>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path  fill="currentColor" d="M5 21V5q0-.825.588-1.412T7 3h10q.825 0 1.413.588T19 5v16l-7-3z"></path></svg>
                            </template>
                            <v-list-item-title class="text-sm text-wrap">{{ description }} </v-list-item-title>
                        </v-list-item>
                    </v-list>
                </v-card>

              </div>
              </v-col>


              <!-- MOBILE VIEW -->
              <div class="flex overflow-x-auto lg:hidden hide-scrollbar">
                <div class="flex" v-for="(packages,i) in plans[n].packages" :key="i">
                    <div class=" sm:h-[460px] w-[300px] cursor-pointer" @click.prevent="clicked(packages)" >
                        <v-card
                            class="mx-auto h-[150px]"
                            color="surface-variant"
                            :image=packages.imagePath
                            max-width="250"
                            height=""
                        >
                            <v-card-title class="bg-gradient-to-r from-orange-500 sm:py-3" >{{ packages.feature }}</v-card-title>
                            <p class="sm:text-[70px] text-[50px]   px-4 bg-gradient-to-r from-orange-500 ">{{ packages.speed }}<span  class="text-[30px] sm:text-[40px]">Mbps <span class=" sm:block hidden text-base bg-gradient-to-r from-orange-500">Ksh. {{ packages.price }}/month </span></span></p>
                            <p class="sm:hidden block pl-2 bg-gradient-to-r py-2  sm:text-xl text-md from-orange-500">Ksh. {{ packages.price }}/month </p>
                        </v-card>
                        <v-card
                            class="mx-auto"
                            max-width="250"
                            style="background-color: greenyellow;"
                        >
                            <v-list density="compact">
                                <v-list-item
                                    v-for="(description, i) in packages.description"
                                    :key="i"
                                    :value="item"
                                    color="primary"
                                    style="background-color: beige;"
                                >
                                    <template v-slot:prepend>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path  fill="currentColor" d="M5 21V5q0-.825.588-1.412T7 3h10q.825 0 1.413.588T19 5v16l-7-3z"></path></svg>
                                    </template>
                                    <v-list-item-title class="text-sm text-wrap">{{ description }} </v-list-item-title>
                                </v-list-item>
                            </v-list>
                        </v-card>
                    </div>
                </div>
              </div>
            </v-row>
          </v-container>
        </v-tabs-window-item>
      </v-tabs-window>
      </v-card-text>
    </v-card>

    <!-- OVERLAYS -->
    <div class="fixed top-0 left-0 w-full h-full z-10 bg-green-500 bg-opacity-40 " v-if="overlay">
      <div class="absolute top-1/2 left-1/2 lg:w-1/2 sm:w-3/4 w-full h-fit mx-auto transform -translate-x-1/2 -translate-y-1/2 bg-white p-4 rounded">
            <!-- LARGE SCREENS -->
            <div class="shadow  sm:block hidden animate__animated animate__zoomInDown" >
                <div class="w-full flex justify-center py-5">
                    <div class="w-3/4 font-bold text-2xl">{{ selectedPackage.tag.toUpperCase() }} PACKAGE</div>
                    <div @click="overlay = false" class="px-4 w-1/4 cursor-pointer py-2 text-xs font-mono w-fit bg-green rounded-xl ">CLOSE</div>
                </div>
                <div class="flex justify-around w-3/4  mx-auto">
                  
                    <div class="rounded w-1/2  bg-gradient-to-l from-red-500  to-orange-500 flex">
                        <p class="text-7xl mx-auto font-bold font-mono">{{ selectedPackage.speed }}<span class="text-3xl">Mbps</span>
                        </p>
                    </div>
                    <div class="rounded min:w-1/2 bg-gradient-to-r px-2 from-red-500 to-orange-500 flex align-baseline justify-between">
                        <p class="text-7xl font-bold font-mono">{{selectedPackage.price}}<span class="text-sm">/month</span>
                        </p>
                    </div>
                    
                </div>
                <div class="py-3 " >
                    <!-- <p class="text-grey font-">*With an exclusive Ksh.4000 refundable deposit</p> -->
                </div>
                <div class="my-5">
                    <div class="font-bold text-start w-3/4 mx-auto">Descriptions</div>
                    <div class="pl-5 w-3/4 mx-auto" v-for="(description, i ) in selectedPackage.description" :key="i">
                        <li class="text-start list-none font-sans">- {{ description }}</li>
                    </div>
                </div>
                <div class="my-5">
                    <div class="font-bold text-start w-3/4 mx-auto">Users</div>
                    <div class="pl-5 w-3/4 mx-auto">
                        <li class="text-start list-none font-sans">{{selectedPackage.users}} users with stable connectivity</li>
                    </div>
                </div>
                <div @click="getPlan(selectedPackage)" class="w-1/2 cursor-pointer py-2 rounded-xl my-2 mx-auto font-mono font-bold  bg-gradient-to-r from-red-500 to-orange-500">GET PACKAGE</div>
            </div>    

            <!-- MOBILE VIEW -->
            <div class="shadow sm:hidden animate__animated  animate__zoomInDown ">
                <!-- {{selectedPackage}} -->
                <div class="w-full flex justify-center py-5">
                    <div class="w-3/4 font-bold text-2xl">{{ selectedPackage.tag.toUpperCase() }} PACKAGE</div>
                    <div @click="overlay = false" class="px-4 cursor-pointer py-2 text-xs font-mono w-fit bg-blue-500 rounded-xl ">CLOSE</div>
                </div>
                <div class="flex justify-around w-3/4  mx-auto">
                  
                    <div class="rounded w-1/2  bg-gradient-to-l mx-1 from-red-500  to-orange-500 flex">
                        <p class="text-3xl mx-auto font-bold font-mono">{{ selectedPackage.speed }}<span class="text-xl">Mbps</span>
                        </p>
                    </div>
                    <div class="rounded min:w-1/2 bg-gradient-to-r  px-2 from-red-500 to-orange-500 flex align-baseline justify-between">
                        <p class="text-3xl font-bold font-mono">{{selectedPackage.price}}<span class="text-sm">/month</span>
                        </p>
                    </div>
                    
                </div>
                <div class="py-3 ">
                    <!-- <p class="text-grey font-">*With an exclusive Ksh.4000 refundable deposit</p> -->
                </div>
                <!-- <div class="w-3/4 my-5 mx-auto">
                    <div>
                        <p class="font-semibold text-start">Add-ons</p>
                        <div class="pl-5 text-start">
                            <li class="list-none">FREE INSTALLATION</li>
                        </div>
                    </div>
                </div> -->
                <div class="my-5">
                    <div class="font-bold text-start w-3/4 mx-auto">Descriptions</div>
                    <div class="pl-5 w-3/4 mx-auto" v-for="(description, i ) in selectedPackage.description" :key="i">
                        <li class="text-start list-none font-sans">- {{ description }}</li>
                    </div>
                </div>
                <div class="my-5">
                    <div class="font-bold text-start w-3/4 mx-auto">Users</div>
                    <div class="pl-5 w-3/4 mx-auto">
                        <li class="text-start list-none font-sans">{{selectedPackage.users}} users with stable connectivity</li>
                    </div>
                </div>
                <div @click="getPlan(selectedPackage)" class="w-1/2 cursor-pointer py-2 rounded-xl my-2 mx-auto font-mono font-bold  bg-gradient-to-r from-red-500 to-orange-500">GET PACKAGE</div>
            </div> 

      </div>
    </div>
  </template>
  <script setup>
  import IconHomeVue from '@/components/icons/IconHome.vue'
  import 'animate.css'
import router from '@/router/index.js'
  import {onMounted, ref} from 'vue'
  import IconBusinessPlan from '@/components/icons/IconBusinessPlan.vue';
  import IconStudentPlanVue from '@/components/icons/IconStudentPlan.vue';
  const tab = ref()
  const plans = ref()
  const overlay = ref(false)
  const selectedPackage = ref()
  onMounted(()=>{
     plans.value = [
        {
            plan:'HOME',
            packages:[
                {
                    feature:"",
                    speed:7,
                    price:'2,199',
                    imagePath:'/Images/5mbps.avif',
                    description:[
                        "Family connectivity",
                        "Basic internet use",
                        "Browsing",
                        "Unlimited",
                        "social media",
                        "e-learning",
                        
                    ],
                    users:"5-8",
                    tag:'home'
                },
                {
                    feature:"",
                    speed:12,
                    price:'2,599',
                    imagePath:'/Images/12mbps.jpg',
                    description:[
                        "Family connectivity",
                        "Smooth HD streaming",
                        "Online gaming",
                        "Unlimited",
                        "social media",
                        "e-learning"
                    ],
                    users:"9-12",
                    tag:'home'
                },
                {
                    feature:"",
                    speed:20,
                    price:'3,799',
                    imagePath:'/Images/20mbps.jpg',
                    description:[
                        "Family connectivity",
                        "Multiple devices streaming",
                        "Online gaming",
                        "Unlimited",
                        "social media",
                        "e-learning"
                    ],
                    users:"13-15",
                    tag:'home'
                },
                {
                    feature:"",
                    speed:30,
                    price:'5,399',
                    imagePath:'/Images/30mbps.jpg',
                    description:[
                        "Family connectivity",
                        "Heavy Internet user",
                        "Online gaming",
                        "Unlimited",
                        "social media",
                        "e-learning"
                    ],
                    users:"15-20",
                    tag:'home'
                },
                {
                    feature:"",
                    speed:50,
                    price:'6,999',
                    imagePath:'/Images/50mbps.avif',
                    description:[
                        "Family connectivity",
                        "Ultimate speed",
                        "Unlimited",
                        "Heavy online activity",
                        "Large Families",
                        "Heavy online users"
                    ],
                    users:"25-30",
                    tag:'home'
                },
            ]
        },
        {
            plan:'BUSINESS',
            packages:[
                {
                    feature:"",
                    speed:2,
                    price:'2,999',
                    imagePath:'/Images/2mbps.avif',
                    description:[
                        "Fast Reliable Internet Access",
                        "Perfect For Small Teams",
                        "Basic Online Tasks Only",
                        "Limited User Capacity Available",
                        "Entry Level Plan Ideal"
                    ],
                    users:"1-5",
                    tag:'business'
                },
                {
                    feature:"",
                    speed:5,
                    price:'4,999',
                    imagePath:'/Images/5_mbps.avif',
                    description:[
                        "Faster Speeds For Growth",
                        "Multiple Device Support Available",
                        "Medium User Capacity Ideal",
                        "Online Collaboration Made Easy",
                        "Boost Productivity With Ease"
                    ],
                    users:"5-10",
                    tag:'business'
                },
                {
                    feature:"",
                    speed:10,
                    price:'9,999',
                    imagePath:'/Images/10mbps.avif',
                    description:[
                        "High Performance Internet Access",
                        "Priority Customer Support Available",
                        "Large User Capacity Ideal",
                        "Demanding Apps Run Smoothly",
                        "Fast And Reliable Network"
                    ],
                    users:"10-20",
                    tag:'business'
                },
                {
                    feature:"",
                    speed:20,
                    price:'19,999',
                    imagePath:'/Images/20_mbps.jpg',
                    description:[
                        "Lightning Fast Internet Speeds",
                        "Heavy User Capacity Ideal",
                        "Fast Online Backup Available",
                        "Secure And Reliable Network",
                        "Ultimate Performance Guaranteed Always"
                    ],
                    users:"20-40",
                    tag:'business'
                },
                {
                    feature:"",
                    speed:30,
                    price:'27,999',
                    imagePath:'/Images/30_mbps.avif',
                    description:[
                        "Ultimate Internet Experience Guaranteed",
                        "Priority Support Always Available",
                        "Large User Capacity Ideal",
                        "Fast And Secure Network",
                        "Dedicated Account Management"
                    ],
                    users:"20-50",
                    tag:'business'
                },
            ]
        },
        {
            plan:'STUDENT',
            packages:[
                {
                    feature:"",
                    imagePath:"/Images/soundtrap.jpg",
                    speed:3,
                    price:999,
                    description:[
                        "2 GB daily data allocation",
                        "256 kbps bandwidth after exhausting the daily limit",
                        "Suitable for light online activities",
                    ],
                    users:"1-2",
                    tag:'student'
                },
                {
                    feature:"",
                    imagePath:"/Images/student-pro.jpg",
                    speed:5,
                    price:'1,499',
                    description:[
                        "3 GB daily data allocation",
                        "512 kbps bandwidth after exhausting the daily limit",
                        "Suitable for moderate to heavy activities",
                    ],
                    users:"2-3",
                    tag:'student'
                },
            ]
        },
  ]
  })
function clicked(pack){
    selectedPackage.value  = pack
    overlay.value = true
}
function getPlan(pack){
    overlay.value = false
    router.push({name:'purchase',query:{plan:pack.tag,speed:pack.speed}})
}
  </script>,
